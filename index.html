<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <meta name="keywords" content="julia, julialang, examples, by example, common, tasks, common tasks, simple, helloworld, hello world, documentation, tutorial">
      <meta name="description" content="Examples of Common tasks in Julia (Julia Lang)">
      <meta name="author" content="Samuel Colvin">
      <title></title>
      <link rel="icon" type="image/png" href="static/favicon.ico" />
      <link href="static/external/css/bootstrap.min.css" rel="stylesheet">
      <link href="static/pygments.css" rel="stylesheet">
      <link href="static/juliabyexample.css" rel="stylesheet">
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-19169042-2', 'scolvin.com');
        ga('send', 'pageview');
      </script>
  </head>
  <body data-spy="scroll" data-target=".sidebar">
  
    <div class="container">
        
      <div class="navbar navbar-default" role="navigation">
        <div>
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="">Julia By Example</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li>
                <a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample" data-toggle="tooltip" data-placement="bottom" target="_blank" title="go to github">
                  <img src="static/github.png" alt="Github Link"/>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
        

      <div class="row">
        <div class="col-sm-9 content">
          
          <p>Julia 是一种用于科学计算的高级、高效动态编程语言。</p>

<p>本站是Julia语言示例的（中文翻译版）非官方网站。</p>

<p>下面是一系列关于Julia语言的常用操作示例，在这里我们假设你已经安装好了Julia并且能正常运行它。
(所有例子均在Julia v0.3版本下测试运行成功)</p>

<h3 id="Hello-World">Hello World<a href="#Hello-World" class="hlink glyphicon glyphicon-link"></a></h3>

<p>一个最简单的脚本（仅一行就可以实现）。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/hello_world.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/hello_world.jl" title="download hello_world.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">)</span>
</pre></div>

<p>在Julia安装且正确加载到你的配置环境中后，这个脚本可以用命令<code>julia hello_world.jl</code> 来运行，
另外也可以在REPL交互式编程环境中键入<code>include("hello_world.jl")</code>来运行，
Julia会运行该文件中的所有有效表达式并返回最后的输出。</p>

<h3 id="函数">函数<a href="#函数" class="hlink glyphicon glyphicon-link"></a></h3>

<p>下面的示例中展示了两个简单的函数，以及如何调用它们并打印结果。
数字格式化的例子见下面。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/functions.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/functions.jl" title="download functions.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># <a href="http://docs.julialang.org:8000/en/latest/manual/functions/#functions" target="_blank">function</a> to calculate the volume of a sphere</span>
<span class="k">function</span><span class="nf"> sphere_vol</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="c"># julia allows <a href="http://docs.julialang.org/en/latest/manual/unicode-input/" target="_blank">Unicode names</a> (in UTF-8 encoding)</span>
    <span class="c"># so either &quot;pi&quot; or the symbol π can be used</span>
    <span class="k">return</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">r</span><span class="o">^</span><span class="mi">3</span>
<span class="k">end</span>

<span class="c"># functions can also be defined more succinctly</span>
<span class="n">quadratic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">sqr_term</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">+</span> <span class="n">sqr_term</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="n">a</span>

<span class="c"># calculates x for 0 = a*x^2+b*x+c, <a href="TODO: links" target="_blank">arguments types</a> can be defined in function definitions</span>
<span class="k">function</span><span class="nf"> quadratic2</span><span class="p">(</span><span class="n">a</span><span class="p">::</span><span class="kt">Float64</span><span class="p">,</span> <span class="n">b</span><span class="p">::</span><span class="kt">Float64</span><span class="p">,</span> <span class="n">c</span><span class="p">::</span><span class="kt">Float64</span><span class="p">)</span>
    <span class="c"># unlike other languages 2a is equivalent to 2*a</span>
    <span class="c"># a^2 is used instead of a**2 or pow(a,2)</span>
    <span class="n">sqr_term</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="n">a</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
    <span class="n">r1</span> <span class="o">=</span> <span class="n">quadratic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">sqr_term</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">r2</span> <span class="o">=</span> <span class="n">quadratic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="n">sqr_term</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="c"># multiple values can be returned from a function using tuples</span>
    <span class="c"># if the <a href="http://docs.julialang.org:8000/en/latest/manual/functions/#the-return-keyword" target="_blank">return</a> keyword is omitted, the last term is returned</span>
    <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span>
<span class="k">end</span>

<span class="n">vol</span> <span class="o">=</span> <span class="n">sphere_vol</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="c"># @printf allows number formatting but does not automatically append the \n to statements, see below</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;volume = %0.3f</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">vol</span> 
<span class="c">#&gt; volume = 113.097</span>

<span class="n">quad1</span><span class="p">,</span> <span class="n">quad2</span> <span class="o">=</span> <span class="n">quadratic2</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.0</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;result 1: &quot;</span><span class="p">,</span> <span class="n">quad1</span><span class="p">)</span>
<span class="c">#&gt; result 1: 3.0</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;result 2: &quot;</span><span class="p">,</span> <span class="n">quad2</span><span class="p">)</span>
<span class="c">#&gt; result 2: -2.0</span>
</pre></div>

<h3 id="字符串">字符串<a href="#字符串" class="hlink glyphicon glyphicon-link"></a></h3>

<p>关于字符串操作的各类例子（字符串索引同数组索引，详见下方示例）。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/strings_basics.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/strings_basics.jl" title="download strings_basics.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># strings are defined with double quotes</span>
<span class="c"># like variables, strings can contain any unicode character</span>
<span class="n">s1</span> <span class="o">=</span> <span class="s">&quot;The quick brown fox jumps over the lazy dog α,β,γ&quot;</span>
<span class="n">println</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="c">#&gt; The quick brown fox jumps over the lazy dog α,β,γ</span>

<span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.println" target="_blank">println</a> adds a new line to the end of output</span>
<span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.print" target="_blank">print</a> can be used if you dont want that:</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;this&quot;</span><span class="p">)</span>
<span class="c">#&gt; this</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot; and&quot;</span><span class="p">)</span>
<span class="c">#&gt; and</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot; that.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="c">#&gt; that.</span>

<span class="c"># chars are defined with single quotes</span>
<span class="n">c1</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span>
<span class="n">println</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="c">#&gt; a</span>
<span class="c"># the ascii value of a char can be found with int():</span>
<span class="n">println</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="s">&quot; ascii value = &quot;</span><span class="p">,</span> <span class="n">int</span><span class="p">(</span><span class="n">c1</span><span class="p">))</span>
<span class="c">#&gt; a ascii value = 97</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;int(&#39;α&#39;) == &quot;</span><span class="p">,</span> <span class="n">int</span><span class="p">(</span><span class="sc">&#39;α&#39;</span><span class="p">))</span>
<span class="c">#&gt; int(&#39;α&#39;) == 945</span>

<span class="c"># so be aware that</span>
<span class="n">println</span><span class="p">(</span><span class="n">int</span><span class="p">(</span><span class="sc">&#39;1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="c">#&gt; false</span>

<span class="c"># strings can be converted to upper case or lower case:</span>
<span class="n">s1_caps</span> <span class="o">=</span> <span class="n">uppercase</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s1_lower</span> <span class="o">=</span> <span class="n">lowercase</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">s1_caps</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">s1_lower</span><span class="p">)</span>
<span class="c">#&gt; THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG Α,Β,Γ</span>
<span class="c">#&gt; the quick brown fox jumps over the lazy dog α,β,γ</span>

<span class="c"># sub strings can be indexed like arrays:</span>
<span class="c"># (<a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.show" target="_blank">show</a> prints the raw value)</span>
<span class="n">show</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="mi">11</span><span class="p">]);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &#39;b&#39;</span>

<span class="c"># or sub strings can be created:</span>
<span class="n">show</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">]);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;The quick &quot;</span>

<span class="c"># end is used for the end of the array or string</span>
<span class="n">show</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="k">end</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="k">end</span><span class="p">]);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;dog α,β,γ&quot;</span>

<span class="c"># julia allows string <a href="http://julia.readthedocs.org/en/latest/manual/strings/#interpolation" target="_blank">Interpolation</a>:</span>
<span class="n">a</span> <span class="o">=</span> <span class="s">&quot;wolcome&quot;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s">&quot;julia&quot;</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="si">$</span><span class="s">a to </span><span class="si">$</span><span class="s">b.&quot;</span><span class="p">)</span>
<span class="c">#&gt; wolcome to julia.</span>

<span class="c"># this can extend to evaluate statements:</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;1 + 2 = </span><span class="si">$</span><span class="s">(1 + 2)&quot;</span><span class="p">)</span>
<span class="c">#&gt; 1 + 2 = 3</span>

<span class="c"># strings can also be concatenated using the * operator</span>
<span class="c"># using * instead of + isn&#39;t intuitive when you start with Julia,</span>
<span class="c"># however <a href="https://groups.google.com/forum/#!msg/julia-users/nQg_d_n0t1Q/9PSt5aya5TsJ" target="_blank">people think it makes more sense</a></span>
<span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;this&quot;</span> <span class="o">*</span> <span class="s">&quot; and&quot;</span> <span class="o">*</span> <span class="s">&quot; that&quot;</span>
<span class="n">println</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="c">#&gt; this and that</span>

<span class="c"># as well as the string function</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="s">&quot;this&quot;</span><span class="p">,</span> <span class="s">&quot; and&quot;</span><span class="p">,</span> <span class="s">&quot; that&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span>
<span class="c">#&gt; this and that</span>
</pre></div>

<h3 id="字符串：转换和格式化">字符串：转换和格式化<a href="#字符串：转换和格式化" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/formatting_converting_strings.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/formatting_converting_strings.jl" title="download formatting_converting_strings.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># strings can be converted using <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.float" target="_blank">float</a> and <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.int" target="_blank">int</a>:</span>
<span class="n">e_str1</span> <span class="o">=</span> <span class="s">&quot;2.718&quot;</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">float</span><span class="p">(</span><span class="n">e_str1</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="mi">5</span><span class="n">e</span><span class="p">)</span>
<span class="c">#&gt; 13.5914</span>
<span class="n">num_15</span> <span class="o">=</span> <span class="n">int</span><span class="p">(</span><span class="s">&quot;15&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="mi">3</span><span class="n">num_15</span><span class="p">)</span>
<span class="c">#&gt; 45</span>

<span class="c"># numbers can be converted to strings and formatted using <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.@printf" target="_blank">printf</a></span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;e = %0.2f</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">e</span>
<span class="c">#&gt; 2.718</span>
<span class="c"># or to create another string <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.@sprintf" target="_blank">sprintf</a></span>
<span class="n">e_str2</span> <span class="o">=</span> <span class="p">@</span><span class="n">sprintf</span><span class="p">(</span><span class="s">&quot;%0.3f&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="c"># to show that the 2 strings are the same</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;e_str1 == e_str2: </span><span class="si">$</span><span class="s">(e_str1 == e_str2)&quot;</span><span class="p">)</span>
<span class="c">#&gt; e_str1 == e_str2: true</span>

<span class="c"># available number format characters are <a href="https://github.com/JuliaLang/julia/blob/master/base/printf.jl#L15" target="_blank">f, e, g, c, s, p, d</a>:</span>
<span class="c"># (pi is a predefined constant; however, since its type is </span>
<span class="c"># &quot;MathConst&quot; it has to be converted to a float to be formatted)</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;fix trailing precision: %0.3f</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">float</span><span class="p">(</span><span class="nb">pi</span><span class="p">)</span>
<span class="c">#&gt; fix trailing precision: 3.142</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;scientific form: %0.6e</span><span class="se">\n</span><span class="s">&quot;</span> <span class="mi">1000</span><span class="nb">pi</span>
<span class="c">#&gt; scientific form: 3.141593e+03</span>
<span class="c"># g is not implemented yet</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;a character: %c</span><span class="se">\n</span><span class="s">&quot;</span> <span class="sc">&#39;α&#39;</span>
<span class="c">#&gt; a character: α</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;a string: %s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="s">&quot;look I&#39;m a string!&quot;</span>
<span class="c">#&gt; a string: look I&#39;m a string!</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;right justify a string: %50s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="s">&quot;width 50, text right justified!&quot;</span>
<span class="c">#&gt; right justify a string:                    width 50, text right justified!</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;a pointer: %p</span><span class="se">\n</span><span class="s">&quot;</span> <span class="mf">1e10</span>
<span class="c">#&gt; a pointer: 0x00000002540be400</span>
<span class="p">@</span><span class="n">printf</span> <span class="s">&quot;print a integer: %d</span><span class="se">\n</span><span class="s">&quot;</span> <span class="mf">1e10</span>
<span class="c">#&gt; print an integer: 10000000000</span>
</pre></div>

<h3 id="字符串处理">字符串处理<a href="#字符串处理" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/string_manipulation.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/string_manipulation.jl" title="download string_manipulation.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="n">s1</span> <span class="o">=</span> <span class="s">&quot;The quick brown fox jumps over the lazy dog α,β,γ&quot;</span>

<span class="c"># <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.search" target="_blank">search</a> returns the first index of a char</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="c">#&gt; 11</span>
<span class="c"># the second argument is equivalent to the second argument of split, see below</span>

<span class="c"># or a range if called with another string</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="s">&quot;brown&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="c">#&gt; 11:15</span>


<span class="c"># string <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.replace" target="_blank">replace</a> is done thus:</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">replace</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="s">&quot;brown&quot;</span><span class="p">,</span> <span class="s">&quot;red&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;The quick red fox jumps over the lazy dog&quot;</span>

<span class="c"># search and replace can also take a regular expressions by preceding the string with &#39;r&#39;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">r</span><span class="s">&quot;b[\w]*n&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="c">#&gt; 11:15</span>

<span class="c"># again with a regular expression</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">replace</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">r</span><span class="s">&quot;b[\w]*n&quot;</span><span class="p">,</span> <span class="s">&quot;red&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;The quick red fox jumps over the lazy dog&quot;</span>

<span class="c"># there are also functions for regular expressions that return RegexMatch types</span>
<span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.match" target="_blank">match</a> scans left to right for the first match (specified starting index optional)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">match</span><span class="p">(</span><span class="n">r</span><span class="s">&quot;b[\w]*n&quot;</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="c">#&gt; RegexMatch(&quot;brown&quot;)</span>

<span class="c"># RegexMatch types have a property match that holds the matched string</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">match</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;brown&quot;</span>

<span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.matchall" target="_blank">matchall</a> returns a vector with RegexMatches for each match</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">matchall</span><span class="p">(</span><span class="n">r</span><span class="s">&quot;[\w]{4,}&quot;</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="c">#&gt; SubString{UTF8String}[&quot;quick&quot;,&quot;brown&quot;,&quot;jumps&quot;,&quot;over&quot;,&quot;lazy&quot;]</span>

<span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.eachmatch" target="_blank">eachmatch</a> returns an iterator over all the matches</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">eachmatch</span><span class="p">(</span><span class="n">r</span><span class="s">&quot;[\w]{4,}&quot;</span><span class="p">,</span> <span class="n">s1</span><span class="p">)</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">r</span><span class="p">)</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\&quot;</span><span class="si">$</span><span class="s">(i.match)</span><span class="se">\&quot;</span><span class="s"> &quot;</span><span class="p">)</span> <span class="k">end</span>
<span class="n">println</span><span class="p">()</span>
<span class="c">#&gt; &quot;quick&quot; &quot;brown&quot; &quot;jumps&quot; &quot;over&quot; &quot;lazy&quot; </span>

<span class="c"># a string can be repeated using the <a href="http://julia.readthedocs.org/en/latest/manual/strings/#common-operations" target="_blank">repeat</a> function, </span>
<span class="c"># or more succinctly with the <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.^" target="_blank">^ syntax</a>:</span>
<span class="n">r</span> <span class="o">=</span> <span class="s">&quot;hello &quot;</span><span class="o">^</span><span class="mi">3</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; &quot;hello hello hello &quot;</span>

<span class="c"># the <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.strip" target="_blank">strip</a> function works the same as python:</span>
<span class="c"># e.g., with one argument it strips the outer whitespace</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">strip</span><span class="p">(</span><span class="s">&quot;hello &quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; &quot;hello&quot;</span>
<span class="c"># or with a second argument of an array of chars it strips any of them;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">strip</span><span class="p">(</span><span class="s">&quot;hello &quot;</span><span class="p">,</span> <span class="p">[</span><span class="sc">&#39;h&#39;</span><span class="p">,</span> <span class="sc">&#39; &#39;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; &quot;ello&quot;</span>
<span class="c"># (note the array is of chars and not strings)</span>

<span class="c"># similarly <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.split" target="_blank">split</a> works in basically the same way as python:</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&quot;hello, there,bob&quot;</span><span class="p">,</span> <span class="sc">&#39;,&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; [&quot;hello&quot;,&quot; there&quot;,&quot;bob&quot;]</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&quot;hello, there,bob&quot;</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; [&quot;hello&quot;,&quot;there,bob&quot;]</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&quot;hello, there,bob&quot;</span><span class="p">,</span> <span class="p">[</span><span class="sc">&#39;,&#39;</span><span class="p">,</span> <span class="sc">&#39; &#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">false</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">);</span> <span class="n">println</span><span class="p">()</span> <span class="c">#&gt; [&quot;hello&quot;,&quot;there&quot;,&quot;bob&quot;]</span>
<span class="c"># (the last two arguements are limit and include_empty, see docs)</span>

<span class="c"># the opposite of split: <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.join" target="_blank">join</a> is simply</span>
<span class="n">r</span><span class="o">=</span> <span class="n">join</span><span class="p">([</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="c">#&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span>
</pre></div>

<h3 id="数组">数组<a href="#数组" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/arrays.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/arrays.jl" title="download arrays.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">function</span><span class="nf"> printsum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="c"># <a href="http://julia.readthedocs.org/en/latest/stdlib/base/#Base.summary" target="_blank">summary</a> generates a summary of an object</span>
    <span class="n">println</span><span class="p">(</span><span class="n">summary</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="s">&quot;: &quot;</span><span class="p">,</span> <span class="n">repr</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">end</span>

<span class="c"># arrays can be initialised directly:</span>
<span class="n">a1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="c">#&gt; 3-element Array{Int64,1}: [1,2,3]</span>

<span class="c"># or initialised empty:</span>
<span class="n">a2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="c">#&gt; 0-element Array{None,1}: None[]</span>

<span class="c"># since this array has no type, functions like push! (see below) don&#39;t work</span>
<span class="c"># instead arrays can be initialised with a type:</span>
<span class="n">a3</span> <span class="o">=</span> <span class="kt">Int64</span><span class="p">[]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
<span class="c">#&gt; 0-element Array{Int64,1}: []</span>

<span class="c"># ranges are different from arrays:</span>
<span class="n">a4</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">20</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a4</span><span class="p">)</span>
<span class="c">#&gt; 20-element UnitRange{Int64}: 1:20</span>

<span class="c"># however they can be used to create arrays thus:</span>
<span class="n">a4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a4</span><span class="p">)</span>
<span class="c">#&gt; 20-element Array{Int64,1}: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]</span>

<span class="c"># arrays can also be generated from <a href="http://julia.readthedocs.org/en/latest/manual/arrays/#comprehensions" target="_blank">comprehensions</a>:</span>
<span class="n">a5</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">^</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
<span class="c">#&gt; 10-element Array{Int64,1}: [2,4,8,16,32,64,128,256,512,1024]</span>

<span class="c"># arrays can be any type, so arrays of arrays can be created:</span>
<span class="n">a6</span> <span class="o">=</span> <span class="p">(</span><span class="n">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span> <span class="mi">1</span><span class="p">})[]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a6</span><span class="p">)</span>
<span class="c">#&gt; 0-element Array{Array{Int64,1},1}: []</span>
<span class="c"># (note this is a &quot;jagged array&quot; (i.e., an array of arrays), not a <a href="http://julia.readthedocs.org/en/latest/manual/arrays/" target="_blank">multidimensional array</a>, these are not covered here)</span>

<span class="c"># Julia provided a number of <a href="http://docs.julialang.org/en/latest/stdlib/base/#dequeues" target="_blank">&quot;Dequeue&quot;</a> functions, the most common for appending to the end of arrays is <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.push!" target="_blank"><strong>push!</strong></a></span>
<span class="c"># ! at the end of a function name indicates that the first argument is updated.</span>

<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="c">#&gt; 4-element Array{Int64,1}: [1,2,3,4]</span>

<span class="c"># push!(a2, 1) would cause error:</span>

<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">a3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span> <span class="c">#&gt; 1-element Array{Int64,1}: [1]</span>
<span class="c">#&gt; 1-element Array{Int64,1}: [1]</span>

<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">a6</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a6</span><span class="p">)</span>
<span class="c">#&gt; 1-element Array{Array{Int64,1},1}: [[1,2,3]]</span>

<span class="c"># using repeat() to create arrays</span>
<span class="c"># you must use the keywords &quot;inner&quot; and &quot;outer&quot;</span>
<span class="c"># all arguments must be arrays (not ranges)</span>
<span class="n">a7</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span><span class="n">inner</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">outer</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a7</span><span class="p">)</span>
<span class="c">#&gt; 8-element Array{Int64,1}: [1,1,2,2,3,3,4,4]</span>
<span class="n">a8</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">([</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">],</span><span class="n">inner</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">outer</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a8</span><span class="p">)</span>
<span class="c">#&gt; 8-element Array{Int64,1}: [4,3,2,1,4,3,2,1]</span>
</pre></div>

<h3 id="错误处理">错误处理<a href="#错误处理" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/error_handling.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/error_handling.jl" title="download error_handling.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="n">a</span><span class="o">=</span><span class="p">[]</span>
<span class="c"># <a href="http://julia.readthedocs.org/en/latest/manual/control-flow/#the-try-catch-statement" target="_blank">try, catch</a> can be used to deal with errors as with many other languages</span>
<span class="k">try</span>
    <span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="k">catch</span> <span class="n">err</span>
    <span class="n">showerror</span><span class="p">(</span><span class="n">STDOUT</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">backtrace</span><span class="p">());</span><span class="n">println</span><span class="p">()</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Continuing after error&quot;</span><span class="p">)</span>
</pre></div>

<h3 id="多维数组">多维数组<a href="#多维数组" class="hlink glyphicon glyphicon-link"></a></h3>

<p>Julia拥有非常棒的多维数组处理能力，更多内容请访问<a href="http://julia.readthedocs.org/en/latest/manual/arrays/">官方手册</a>。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/multiarrays.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/multiarrays.jl" title="download multiarrays.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># repeat can be useful to expand a grid</span>
<span class="c"># as in R&#39;s expand.grid() function:</span>

<span class="n">m1</span> <span class="o">=</span> <span class="n">hcat</span><span class="p">(</span><span class="n">repeat</span><span class="p">([</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span><span class="n">inner</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">outer</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">]),</span>
          <span class="n">repeat</span><span class="p">([</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="n">inner</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">outer</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
          <span class="n">repeat</span><span class="p">([</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span><span class="n">inner</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">outer</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="c">#&gt; 12x3 Array{Int64,2}: [1 1 1</span>
<span class="c">#&gt;  2 1 1</span>
<span class="c">#&gt;  1 2 1</span>
<span class="c">#&gt;  2 2 2</span>
<span class="c">#&gt;  1 3 2</span>
<span class="c">#&gt;  2 3 2</span>
<span class="c">#&gt;  1 1 3</span>
<span class="c">#&gt;  2 1 3</span>
<span class="c">#&gt;  1 2 3</span>
<span class="c">#&gt;  2 2 4</span>
<span class="c">#&gt;  1 3 4</span>
<span class="c">#&gt;  2 3 4]</span>

<span class="c"># for simple repetitions of arrays,</span>
<span class="c"># use repmat</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">repmat</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>     <span class="c"># replicate a9 once into dim1 and twice into dim2</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;size: &quot;</span><span class="p">,</span> <span class="n">size</span><span class="p">(</span><span class="n">m2</span><span class="p">))</span>
<span class="c">#&gt; size: (12,6)</span>

<span class="n">m3</span> <span class="o">=</span> <span class="n">repmat</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>     <span class="c"># replicate a9 twice into dim1 and once into dim2</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;size: &quot;</span><span class="p">,</span> <span class="n">size</span><span class="p">(</span><span class="n">m3</span><span class="p">))</span>
<span class="c">#&gt; size: (24,3)</span>

<span class="c"># Julia comprehensions are another way to easily create </span>
<span class="c"># multidimensional arrays</span>

<span class="n">m4</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="n">k</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c"># creates a 2x3x2 array of Int64</span>
<span class="n">m5</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Hi Im # </span><span class="si">$</span><span class="s">(i+2*(j-1 + 3*(k-1)))&quot;</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c"># expressions are very flexible</span>
<span class="c"># you can specify the type of the array by just </span>
<span class="c"># placing it in front of the expression</span>
<span class="n">m5</span> <span class="o">=</span> <span class="n">ASCIIString</span><span class="p">[</span><span class="s">&quot;Hi Im element # </span><span class="si">$</span><span class="s">(i+2*(j-1 + 3*(k-1)))&quot;</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
<span class="c">#&gt; 2x3x2 Array{ASCIIString,3}: ASCIIString[&quot;Hi Im element # 1&quot; &quot;Hi Im element # 3&quot; &quot;Hi Im element # 5&quot;</span>
<span class="c">#&gt;             &quot;Hi Im element # 2&quot; &quot;Hi Im element # 4&quot; &quot;Hi Im element # 6&quot;]</span>
<span class="c">#&gt; </span>
<span class="c">#&gt; ASCIIString[&quot;Hi Im element # 7&quot; &quot;Hi Im element # 9&quot; &quot;Hi Im element # 11&quot;</span>
<span class="c">#&gt;             &quot;Hi Im element # 8&quot; &quot;Hi Im element # 10&quot; &quot;Hi Im element # 12&quot;]</span>

<span class="c"># Array reductions</span>
<span class="c"># many functions in Julia have an array method</span>
<span class="c"># to be applied to specific dimensions of an array:</span>

<span class="n">sum</span><span class="p">(</span><span class="n">m4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>        <span class="c"># takes the sum over the third dimension</span>
<span class="n">sum</span><span class="p">(</span><span class="n">m4</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c"># sum over first and third dim</span>

<span class="n">maximum</span><span class="p">(</span><span class="n">m4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>    <span class="c"># find the max elt along dim 2</span>
<span class="n">findmax</span><span class="p">(</span><span class="n">m4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>    <span class="c"># find the max elt and its index along dim 2 (available only in very recent Julia versions)</span>

<span class="c"># Broadcasting</span>
<span class="c"># when you combine arrays of different sizes in an operation,</span>
<span class="c"># an attempt is made to &quot;spread&quot; or &quot;broadcast&quot; the smaller array</span>
<span class="c"># so that the sizes match up. broadcast operators are preceded by a dot: </span>

<span class="n">m4</span> <span class="o">.+</span> <span class="mi">3</span>       <span class="c"># add 3 to all elements</span>
<span class="n">m4</span> <span class="o">.+</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>      <span class="c"># adds vector [1,2] to all elements along first dim</span>

<span class="c"># slices and views</span>
<span class="n">m4</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># holds dim 3 fixed and displays the resulting view</span>
<span class="n">m4</span><span class="p">[:,</span><span class="mi">2</span><span class="p">,:]</span>  <span class="c"># that&#39;s a 2x1x2 array. not very intuititive to look at</span>

<span class="c"># get rid of dimensions with size 1:</span>
<span class="n">squeeze</span><span class="p">(</span><span class="n">m4</span><span class="p">[:,</span><span class="mi">2</span><span class="p">,:],</span><span class="mi">2</span><span class="p">)</span>  <span class="c"># that&#39;s better</span>

<span class="c"># assign new values to a certain view</span>
<span class="n">m4</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">m4</span><span class="p">)</span>
<span class="c">#&gt; 2x3x2 Array{Int64,3}: [3 5 2</span>
<span class="c">#&gt;  2 2 2]</span>
<span class="c">#&gt; </span>
<span class="c">#&gt; [4 5 6</span>
<span class="c">#&gt;  5 6 7]</span>

<span class="c"># (for more examples of try, catch see Error Handling above)</span>
<span class="k">try</span>
    <span class="c"># this will cause an error, you have to assign the correct type</span>
    <span class="n">m4</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="k">catch</span> <span class="n">err</span>
    <span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">end</span>
<span class="c">#&gt; InexactError()</span>

<span class="k">try</span>
    <span class="c"># this will cause an error, you have to assign the right shape</span>
    <span class="n">m4</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">catch</span> <span class="n">err</span>
    <span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">end</span>
<span class="c">#&gt; DimensionMismatch(&quot;tried to assign 3x2 array to 2x3x1 destination&quot;)</span>
</pre></div>

<h3 id="字典">字典<a href="#字典" class="hlink glyphicon glyphicon-link"></a></h3>

<p>Julia使用<a href="http://docs.julialang.org/en/latest/stdlib/base/#associative-collections">Dicts</a>作为关联收藏（
associative collections）。除了比较特殊的<code>=&gt;</code>定义语法，其他同python基本一致。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/dicts.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/dicts.jl" title="download dicts.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># dicts can be initialised directly:</span>
<span class="n">a1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">=&gt;</span><span class="s">&quot;two&quot;</span><span class="p">}</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span> <span class="c">#&gt; Dict{Any,Any}: {2=&gt;&quot;two&quot;,1=&gt;&quot;one&quot;}</span>

<span class="c"># then added to:</span>
<span class="n">a1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;three&quot;</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span> <span class="c">#&gt; Dict{Any,Any}: {2=&gt;&quot;two&quot;,3=&gt;&quot;three&quot;,1=&gt;&quot;one&quot;}</span>
<span class="c"># (note dicts cannot be assumed to keep their original order)</span>

<span class="c"># dicts may also be created with the type explicitly set</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span> <span class="n">String</span><span class="p">}()</span>
<span class="n">a2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;zero&quot;</span>

<span class="c"># dicts, like arrays, may also be created from <a href="http://julia.readthedocs.org/en/latest/manual/arrays/#comprehensions" target="_blank">comprehensions</a></span>
<span class="n">a3</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span> <span class="o">=&gt;</span> <span class="p">@</span><span class="n">sprintf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span><span class="c">#&gt; Dict{Any,Any}: {5=&gt;&quot;5&quot;,4=&gt;&quot;4&quot;,6=&gt;&quot;6&quot;,7=&gt;&quot;7&quot;,2=&gt;&quot;2&quot;,10=&gt;&quot;10&quot;,9=&gt;&quot;9&quot;,8=&gt;&quot;8&quot;,3=&gt;&quot;3&quot;,1=&gt;&quot;1&quot;}</span>

<span class="c"># as you would expect, Julia comes with all the normal helper functions</span>
<span class="c"># for dicts, e.g., (haskey)[http://docs.julialang.org/en/latest/stdlib/base/#Base.haskey]</span>
<span class="n">println</span><span class="p">(</span><span class="n">haskey</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c">#&gt; true</span>

<span class="c"># which is equivalent to</span>
<span class="n">println</span><span class="p">(</span><span class="mi">1</span> <span class="k">in</span> <span class="n">keys</span><span class="p">(</span><span class="n">a1</span><span class="p">))</span> <span class="c">#&gt; true</span>
<span class="c"># where <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.keys" target="_blank">keys</a> creates an iterator over the keys of the dictionary</span>

<span class="c"># similar to keys, (values)[http://docs.julialang.org/en/latest/stdlib/base/#Base.values] get iterators over the dict&#39;s values:</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">values</span><span class="p">(</span><span class="n">a1</span><span class="p">))</span> <span class="c">#&gt; ValueIterator{Dict{Any,Any}}: ValueIterator{Dict{Any,Any}}({2=&gt;&quot;two&quot;,3=&gt;&quot;three&quot;,1=&gt;&quot;one&quot;})</span>

<span class="c"># use <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.collect" target="_blank">collect</a> to get an array:</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">collect</span><span class="p">(</span><span class="n">values</span><span class="p">(</span><span class="n">a1</span><span class="p">)))</span><span class="c">#&gt; 3-element Array{Any,1}: {&quot;two&quot;,&quot;three&quot;,&quot;one&quot;}</span>
</pre></div>

<h3 id="循环和映射">循环和映射<a href="#循环和映射" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a href="http://julia.readthedocs.org/en/latest/manual/control-flow/#repeated-evaluation-loops">循环</a>可以用多种方式来定义。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/loops_map.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/loops_map.jl" title="download loops_map.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="p">:</span><span class="mi">5</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c">#&gt; 1, 2, 3, 4, 5, </span>
<span class="c"># In loop definitions &quot;in&quot; is equivilent to &quot;=&quot; (AFAIK, the two are interchangable in this context)</span>
<span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">5</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 1, 2, 3, 4, 5, </span>

<span class="c"># arrays can also be looped over directly:</span>
<span class="n">a1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">a1</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 1, 2, 3, 4, </span>

<span class="c"># <strong>continue</strong> and <strong>break</strong> work in the same way as python</span>
<span class="n">a2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">a2</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span>
        <span class="k">continue</span>
    <span class="k">end</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">8</span>
        <span class="k">break</span>
    <span class="k">end</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 2, 4, 6, 8, </span>

<span class="c"># if the array is being manipulated during evaluation a while loop shoud be used</span>
<span class="c"># <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.pop!" target="_blank">pop</a> removes the last element from an array</span>
<span class="k">while</span> <span class="o">!</span><span class="n">isempty</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="n">pop</span><span class="o">!</span><span class="p">(</span><span class="n">a1</span><span class="p">),</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 4, 3, 2, 1,</span>

<span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">=&gt;</span><span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="o">=&gt;</span><span class="s">&quot;three&quot;</span><span class="p">}</span>
<span class="c"># dicts may be looped through using the keys function:</span>
<span class="k">for</span> <span class="n">k</span> <span class="k">in</span> <span class="n">sort</span><span class="p">(</span><span class="n">collect</span><span class="p">(</span><span class="n">keys</span><span class="p">(</span><span class="n">d1</span><span class="p">)))</span>
    <span class="n">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s">&quot;: &quot;</span><span class="p">,</span> <span class="n">d1</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 1: one, 2: two, 3: three,</span>

<span class="c"># like python <a href="http://docs.julialang.org/en/latest/stdlib/base/#Base.enumerate" target="_blank">enumerate</a> can be used to get both the index and value in a loop</span>
<span class="n">a3</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">in</span> <span class="n">enumerate</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;: &quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">println</span><span class="p">()</span> <span class="c">#&gt; 1: one, 2: two, 3: three, </span>

<span class="c"># (note enumerate starts from 1 since Julia arrays are 1 indexed unlike python)</span>

<span class="c"># <a href="" target="_blank">map</a> works as you might expect performing the given function on each member of an array or iter much like comprehensions</span>
<span class="n">a4</span> <span class="o">=</span> <span class="n">map</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">a4</span><span class="p">)</span> <span class="c">#&gt; 4-element Array{Int64,1}: [1,4,9,49]</span>
</pre></div>

<h3 id="类型(Types)">类型(Types)<a href="#类型(Types)" class="hlink glyphicon glyphicon-link"></a></h3>

<p>类型是Julia中组织数据的关键方法。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/types.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/types.jl" title="download types.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># Type Definitions are probably most similar to tyepdefs in c?</span>
<span class="c"># a simple type with no special constructor functions might look like this</span>
<span class="k">type</span><span class="nc"> Person</span>
    <span class="n">name</span><span class="p">::</span><span class="n">String</span>
    <span class="n">male</span><span class="p">::</span><span class="kt">Bool</span>
    <span class="n">age</span><span class="p">::</span><span class="kt">Float64</span>
    <span class="n">children</span><span class="p">::</span><span class="kt">Int</span>
<span class="k">end</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Julia&quot;</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="c">#&gt; Person: Person(&quot;Julia&quot;,false,4.0,0)</span>

<span class="n">people</span> <span class="o">=</span> <span class="n">Person</span><span class="p">[]</span>
<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Steve&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Jade&quot;</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">printsum</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="c">#&gt; 2-element Array{Person,1}: [Person(&quot;Steve&quot;,true,42.0,0),Person(&quot;Jade&quot;,false,17.0,3)]</span>

<span class="c"># types may also contains arrays and dicts</span>
<span class="c"># constructor functions can be defined to easily create objects</span>
<span class="k">type</span><span class="nc"> Family</span>
    <span class="n">name</span><span class="p">::</span><span class="n">String</span>
    <span class="n">members</span><span class="p">::</span><span class="n">Array</span><span class="p">{</span><span class="n">String</span><span class="p">,</span> <span class="mi">1</span><span class="p">}</span>
    <span class="n">extended</span><span class="p">::</span><span class="kt">Bool</span>
    <span class="c"># constructor that takes one argument and generates a default</span>
    <span class="c"># for the other two values</span>
    <span class="n">Family</span><span class="p">(</span><span class="n">name</span><span class="p">::</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="nb">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">String</span><span class="p">[],</span> <span class="n">false</span><span class="p">)</span>
    <span class="c"># constructor that takes two arguements and infers the third</span>
    <span class="n">Family</span><span class="p">(</span><span class="n">name</span><span class="p">::</span><span class="n">String</span><span class="p">,</span> <span class="n">members</span><span class="p">)</span> <span class="o">=</span> <span class="nb">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">members</span><span class="p">,</span> <span class="n">length</span><span class="p">(</span><span class="n">members</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">fam1</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span><span class="s">&quot;blogs&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">fam1</span><span class="p">)</span>
<span class="c">#&gt; Family(&quot;blogs&quot;,String[],false)</span>
<span class="n">fam2</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span><span class="s">&quot;jones&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;anna&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;charlie&quot;</span><span class="p">,</span> <span class="s">&quot;dick&quot;</span><span class="p">])</span>
<span class="n">println</span><span class="p">(</span><span class="n">fam2</span><span class="p">)</span>
<span class="c">#&gt; Family(&quot;jones&quot;,String[&quot;anna&quot;,&quot;bob&quot;,&quot;charlie&quot;,&quot;dick&quot;],true)</span>
</pre></div>

<h3 id="输入输出">输入输出<a href="#输入输出" class="hlink glyphicon glyphicon-link"></a></h3>

<p>Julia中读取和写入文件的基本语法同python十分类似。</p>

<p>示例中使用的<code>simple.dat</code>文件可从<a href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/simple.dat" title="simple.dat">github</a>下载。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/io.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/io.jl" title="download io.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="n">fname</span> <span class="o">=</span> <span class="s">&quot;simple.dat&quot;</span>
<span class="c"># using <a href="http://julia.readthedocs.org/en/latest/manual/functions/#block-syntax-for-function-arguments" target="_blank">do</a> means the file is closed automatically</span>
<span class="c"># in the same way &quot;with&quot; does in python</span>
<span class="n">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="n">f</span>
    <span class="k">for</span> <span class="n">line</span> <span class="k">in</span> <span class="n">eachline</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span>
<span class="c">#&gt; this is a simple file containing</span>
<span class="c">#&gt; text and numbers:</span>
<span class="c">#&gt; 43.3</span>
<span class="c">#&gt; 17</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>
<span class="n">showall</span><span class="p">(</span><span class="n">readlines</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="c">#&gt; Union(ASCIIString,UTF8String)[&quot;this is a simple file containing\n&quot;,&quot;text and numbers:\n&quot;,&quot;43.3\n&quot;,&quot;17\n&quot;]</span>
<span class="n">close</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>
<span class="n">fstring</span> <span class="o">=</span> <span class="n">readall</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">close</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">summary</span><span class="p">(</span><span class="n">fstring</span><span class="p">))</span>
<span class="c">#&gt; ASCIIString</span>
<span class="n">print</span><span class="p">(</span><span class="n">fstring</span><span class="p">)</span>
<span class="c">#&gt; this is a simple file containing</span>
<span class="c">#&gt; text and numbers:</span>
<span class="c">#&gt; 43.3</span>
<span class="c">#&gt; 17</span>

<span class="n">outfile</span> <span class="o">=</span> <span class="s">&quot;outfile.dat&quot;</span>
<span class="c"># writing to files is very similar:</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span>
<span class="c"># both print and println can be used as usual but with f as their first arugment</span>
<span class="n">println</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&quot;some content&quot;</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&quot;more content&quot;</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&quot; more on the same line&quot;</span><span class="p">)</span>
<span class="n">close</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c"># we can then check the content of the file written</span>
<span class="c"># &quot;do&quot; above just creates an anonymous function and passes it to open</span>
<span class="c"># we can use the same logic to pass readall and thereby succinctly</span>
<span class="c"># open, read and close a file in one line</span>
<span class="n">outfile_content</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">readall</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="n">repr</span><span class="p">(</span><span class="n">outfile_content</span><span class="p">))</span>
<span class="c">#&gt; &quot;some content\nmore content more on the same line&quot;</span>
</pre></div>

<h3 id="包和文件引用">包和文件引用<a href="#包和文件引用" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a href="http://docs.julialang.org/en/latest/packages/packagelist/">包</a> 是Julia标准库的扩展。 </p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/using_packages.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/using_packages.jl" title="download using_packages.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># You might not want to run this file completely, as the Pkg-commands can take a</span>
<span class="c"># long time to complete.</span>

<span class="c"># list all available packages:</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">available</span><span class="p">()</span>

<span class="c"># install one package (e.g. <a href="https://github.com/johnmyleswhite/Calculus.jl" target="_blank">Calculus</a>) and all its dependencies:</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Calculus&quot;</span><span class="p">)</span>

<span class="c"># to list all installed packages</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">installed</span><span class="p">()</span>

<span class="c"># to update all packages to their newest version</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

<span class="c"># to use a package:</span>
<span class="k">using</span> <span class="n">Calculus</span>
<span class="c"># will import all functions of that package into the current namespace, so that</span>
<span class="c"># it is possible to call</span>
<span class="n">derivative</span><span class="p">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="c"># without specifing the package it is included in.</span>

<span class="k">import</span> <span class="n">Calculus</span>
<span class="c"># will enable you to specify which package the function is called from</span>
<span class="n">Calculus</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="c"># Using `import` is especially useful if there are conflicts in function/type-names</span>
<span class="c"># between packages.</span>
<span class="c"># Example:</span>
<span class="c"># Winston as well as Gadfly provide a plot() function (see below).</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Winston&quot;</span><span class="p">)</span>
<span class="n">Pkg</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Gadfly&quot;</span><span class="p">)</span>

<span class="c"># If you were to &quot;import&quot; both of the packages with `using`, there would be a conflict.</span>
<span class="c"># That can be prevented by using `import`, as follows:</span>
<span class="k">import</span> <span class="n">Winston</span>
<span class="k">import</span> <span class="n">Gadfly</span>

<span class="n">Winston</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">Gadfly</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

<h3 id="画图">画图<a href="#画图" class="hlink glyphicon glyphicon-link"></a></h3>

<p>在Julia中画图只能通过扩展包来实现，下面列举了基于不同包的画图例子。</p>

<h3 id="TextPlots（文字图解包）">TextPlots（文字图解包）<a href="#TextPlots（文字图解包）" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a href="https://github.com/sunetos/TextPlots.jl">TextPlots包主页</a>.</p>

<p>TextPlots 是终端下基于盲文字符的非常简单的绘图库。</p>

<p>由于指导文档详细并且不需要安装其他依赖包和外部库，让它成为了用Julia绘图的最简单选择。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/textplots.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/textplots.jl" title="download textplots.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">using</span> <span class="n">TextPlots</span>

<span class="n">plot</span><span class="p">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">)</span>
<span class="c">#&gt; cos(x)</span>
<span class="c">#&gt;        1 ⡤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⢤</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠤⠒⠊⠉⠉⠉⠉⠉⠉⠑⠒⠤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠒⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠒⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠡⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⡐⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢂⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⡠⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠡⡀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⢐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⡀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠠⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠄⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⢀⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢂⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⢀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢂⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⢀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢂⠀⢸</span>
<span class="c">#&gt;          ⡇⡐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢂⢸</span>
<span class="c">#&gt;  0.54030 ⠓⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠚</span>
<span class="c">#&gt;         -1                                                            1</span>

<span class="n">plot</span><span class="p">([</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">pi</span><span class="p">)],</span> <span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">)</span>
<span class="c">#&gt; cos(x), cos(x + pi)</span>
<span class="c">#&gt;        1 ⡤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⢤</span>
<span class="c">#&gt;          ⡇⠉⠉⠉⠒⠤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠔⠊⠉⠉⠉⠉⠉⠑⠒⠤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠉⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠒⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠑⠤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⢄⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⡐⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠡⡀⠀⠀⠀⠀⠀⢀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠢⡀⠀⠀⠠⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢂⠀⠀⠀⡠⠁⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⢄⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⣀⠌⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠊⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠉⢂⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠔⠁⠀⠀⠐⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠌⠀⠀⠀⠑⡀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠀⠀⠀⠀⠀⠀⠡⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡐⠁⠀⠀⠀⠀⠀⠈⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠊⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⣀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠒⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⣀⣀⣀⠤⠒⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠑⠢⢄⣀⣀⣀⣀⣀⡠⠤⠒⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;       -1 ⠓⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠚</span>
<span class="c">#&gt;          0                                                            5</span>

<span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="c">#&gt; scatter plot</span>
<span class="c">#&gt;       13 ⡤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⠤⢤</span>
<span class="c">#&gt;          ⡇⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⢸</span>
<span class="c">#&gt;          ⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸</span>
<span class="c">#&gt;        7 ⠓⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠒⠚</span>
<span class="c">#&gt;          1                                                            7</span>
</pre></div>

<h4 id="PyPlot">PyPlot<a href="#PyPlot" class="hlink glyphicon glyphicon-link"></a></h4>

<p><a href="https://github.com/stevengj/PyPlot.jl">PyPlot包主页</a>.</p>

<p>使用PyPlot之前需要安装Python和matplotlib。附<a href="http://matplotlib.org/api/pyplot_api.html" title="pyplot api">matplotlib.pyplot 文档</a></p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/pyplot.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/pyplot.jl" title="download pyplot.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="c"># PyPlot: needs Python and matplotlib installed</span>
<span class="c"># <a href="http://matplotlib.org/api/pyplot_api.html" target="_blank">matplotlib.pyplot docs</a></span>
<span class="k">import</span> <span class="n">PyPlot</span>
<span class="c"># plot 5 random numbers in [0,1], PyPlot.plot creates a new figure</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="c"># labeling the axes, creating a title:</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&quot;x-axis&quot;</span><span class="p">)</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&quot;y-axis&quot;</span><span class="p">)</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&quot;Random&quot;</span><span class="p">)</span>
<span class="c"># creating the legend:</span>
<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;random data&quot;</span><span class="p">]</span>
<span class="c"># legend takes an array of strings, but since strings can be indexed to get</span>
<span class="c"># chars (e.g. l[1] == &#39;r&#39;) the brackets are necessary</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

<span class="c"># create a new figure:</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">PyPlot</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c"># generating data:</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span> <span class="c"># PyPlot can handle ranges as well as arrays</span>
<span class="c"># setup a grid for plotting:</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">subplot2grid</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c"># options for plotting are passed as keyword-arguments:</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&quot;None&quot;</span><span class="p">)</span>
<span class="c"># a second plot will plot in an existing figure/subplot</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
<span class="c"># add text to the plot:</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">+.</span><span class="mi">1</span><span class="p">,</span> <span class="n">y1</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="s">&quot;value #4&quot;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s">&quot;center&quot;</span><span class="p">)</span>
<span class="c"># PyPlot will adjust the axes automatically, but xlim and ylim can explicitly</span>
<span class="c"># change the smallest and largest value displayed on either axis</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">&quot;dots&quot;</span><span class="p">,</span> <span class="s">&quot;line&quot;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">&quot;upper left&quot;</span><span class="p">)</span>

<span class="c"># change into the other subplot:</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">subplot2grid</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c"># plot some more data into the lower subplot</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">)</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="c"># change the ticks used on the y-axis</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="c"># save the current figure</span>
<span class="n">PyPlot</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&quot;pyplot.png&quot;</span><span class="p">)</span>
</pre></div>

<p><img class="source-image" src="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/pyplot.png" alt="pyplot.png"/></p>

<h4 id="Winston">Winston<a href="#Winston" class="hlink glyphicon glyphicon-link"></a></h4>

<p><a href="https://github.com/nolta/Winston.jl">Winston包主页</a></p>

<p>同MatLab类似的绘图工具，安装方法<code>Pkg.add("Winston")</code>。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/winston.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/winston.jl" title="download winston.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">using</span> <span class="n">Winston</span>

<span class="c"># optionally call figure prior to plotting to set the size</span>
<span class="n">figure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="c"># plot some data</span>
<span class="n">pl</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">cumsum</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="o">.-</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="o">.-</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s">&quot;b&quot;</span><span class="p">)</span>
<span class="c"># display the plot (not done automatically!)</span>
<span class="n">display</span><span class="p">(</span><span class="n">pl</span><span class="p">)</span>

<span class="c"># by default display will not wait and the plot will vanish as soon as it appears</span>
<span class="c"># using readline is a blunt wait to allow the user to choose when to continue</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Press enter to continue: &quot;</span><span class="p">)</span>
<span class="n">readline</span><span class="p">(</span><span class="n">STDIN</span><span class="p">)</span>

<span class="c"># save the current figure</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&quot;winston.svg&quot;</span><span class="p">)</span>
<span class="c"># .eps, .pdf, &amp; .png are also supported</span>
<span class="c"># we used svg here because it respects the width and height specified above</span>

<span class="c"># TODO: needs more expansive explanation</span>
</pre></div>

<p><img class="source-image" src="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/winston.svg" alt="winston.svg"/></p>

<h4 id="Gadfly">Gadfly<a href="#Gadfly" class="hlink glyphicon glyphicon-link"></a></h4>

<p><a href="https://github.com/dcjones/Gadfly.jl">Gadfly包主页</a></p>

<p>类似ggplot2的绘图工具，安装方法<code>Pkg.add("Gadfly")</code>。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/gadfly.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/gadfly.jl" title="download gadfly.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">using</span> <span class="n">Gadfly</span>

<span class="c"># plot some data</span>
<span class="n">pl</span> <span class="o">=</span> <span class="p">@</span><span class="n">plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="c"># and save it to a file</span>
<span class="n">draw</span><span class="p">(</span><span class="n">PNG</span><span class="p">(</span><span class="s">&quot;gadfly.png&quot;</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">pl</span><span class="p">)</span>

<span class="c"># TODO: needs more expansive explanation</span>
</pre></div>

<p><img class="source-image" src="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/gadfly.png" alt="gadfly.png"/></p>

<h3 id="数据框（DataFrames）">数据框（DataFrames）<a href="#数据框（DataFrames）" class="hlink glyphicon glyphicon-link"></a></h3>

<p><a href="https://github.com/JuliaStats/DataFrames.jl">DataFrames.jl包</a> 提供了处理列表类数据的方法（类似R语言里的dataframe数据框）。</p>

<p>示例中所用的<code>iris.csv</code> 文件可从<a href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/iris.csv" title="iris.csv">github</a>获得。</p>

<p><a class="git-link" href="https://github.com/samuelcolvin/JuliaByExample/blob/master/common_usage/dataframes.jl" data-toggle="tooltip" data-placement="bottom"
    target="_blank" title="go to github"><img src="static/github.png" alt="Github Link"/></a><a class="download-link" href="download/run/media/root/LIVE/Yu/Github/JuliaByExample/common_usage/dataframes.jl" title="download dataframes.jl" data-toggle="tooltip" data-placement="bottom">
        <span class="glyphicon glyphicon-cloud-download"></span></a></p>

<div class="code"><pre><span class="k">using</span> <span class="n">DataFrames</span>
<span class="n">showln</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">show</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="n">println</span><span class="p">())</span>
<span class="c"># TODO: needs more links to docs.</span>

<span class="c"># A DataFrame is an in-memory database</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">,</span> <span class="nb">pi</span><span class="p">],</span> <span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;xx&quot;</span><span class="p">,</span> <span class="s">&quot;xy&quot;</span><span class="p">])</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="c">#&gt; 2x3 DataFrame</span>
<span class="c">#&gt; |-------|---|---------|------|</span>
<span class="c">#&gt; | Row # | A | B       | C    |</span>
<span class="c">#&gt; | 1     | 1 | 2.71828 | &quot;xx&quot; |</span>
<span class="c">#&gt; | 2     | 2 | 3.14159 | &quot;xy&quot; |</span>

<span class="c"># The columns of a DataFrame can be indexed using numbers or names</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="c">#&gt; [1,2]</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[:</span><span class="n">A</span><span class="p">])</span>
<span class="c">#&gt; [1,2]</span>

<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="c">#&gt; [2.718281828459045,3.141592653589793]</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[:</span><span class="n">B</span><span class="p">])</span>
<span class="c">#&gt; [2.718281828459045,3.141592653589793]</span>

<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="c">#&gt; ASCIIString[&quot;xx&quot;,&quot;xy&quot;]</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[:</span><span class="n">C</span><span class="p">])</span>
<span class="c">#&gt; ASCIIString[&quot;xx&quot;,&quot;xy&quot;]</span>

<span class="c"># The rows of a DataFrame can be indexed only by using numbers</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
<span class="c">#&gt; 1x3 DataFrame</span>
<span class="c">#&gt; |-------|---|---------|------|</span>
<span class="c">#&gt; | Row # | A | B       | C    |</span>
<span class="c">#&gt; | 1     | 1 | 2.71828 | &quot;xx&quot; |</span>
<span class="n">showln</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="p">:])</span>
<span class="c">#&gt; 2x3 DataFrame</span>
<span class="c">#&gt; |-------|---|---------|------|</span>
<span class="c">#&gt; | Row # | A | B       | C    |</span>
<span class="c">#&gt; | 1     | 1 | 2.71828 | &quot;xx&quot; |</span>
<span class="c">#&gt; | 2     | 2 | 3.14159 | &quot;xy&quot; |</span>

<span class="c"># importing data into DataFrames</span>
<span class="c"># ------------------------------</span>

<span class="c"># DataFrames can be loaded from CSV files using readtable()</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">readtable</span><span class="p">(</span><span class="s">&quot;iris.csv&quot;</span><span class="p">)</span>

<span class="c"># the iris dataset (and plenty of others) is also available from</span>
<span class="k">using</span> <span class="n">RDatasets</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;datasets&quot;</span><span class="p">,</span><span class="s">&quot;iris&quot;</span><span class="p">)</span>

<span class="c"># you can directly import your own R .rda dataframe with</span>
<span class="c"># mydf = DataFrame(read_rda(&quot;path/to/your/df.rda&quot;)[&quot;name_of_df&quot;]), e.g.</span>
<span class="n">diamonds</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">read_rda</span><span class="p">(</span><span class="n">joinpath</span><span class="p">(</span><span class="n">Pkg</span><span class="o">.</span><span class="n">dir</span><span class="p">(</span><span class="s">&quot;RDatasets&quot;</span><span class="p">),</span><span class="s">&quot;data&quot;</span><span class="p">,</span><span class="s">&quot;ggplot2&quot;</span><span class="p">,</span><span class="s">&quot;diamonds.rda&quot;</span><span class="p">))[</span><span class="s">&quot;diamonds&quot;</span><span class="p">])</span>

<span class="c"># showing DataFrames</span>
<span class="c"># ------------------</span>

<span class="c"># Check the names and element types of the columns of our new DataFrame</span>
<span class="n">showln</span><span class="p">(</span><span class="n">names</span><span class="p">(</span><span class="n">iris</span><span class="p">))</span>
<span class="c">#&gt; [:SepalLength,:SepalWidth,:PetalLength,:PetalWidth,:Species]</span>
<span class="n">showln</span><span class="p">(</span><span class="n">eltypes</span><span class="p">(</span><span class="n">iris</span><span class="p">))</span>
<span class="c">#&gt; Type[Float64,Float64,Float64,Float64,UTF8String]</span>

<span class="c"># Subset the DataFrame to only include rows for one species</span>
<span class="n">showln</span><span class="p">(</span><span class="n">iris</span><span class="p">[</span><span class="n">iris</span><span class="p">[:</span><span class="n">Species</span><span class="p">]</span> <span class="o">.==</span> <span class="s">&quot;setosa&quot;</span><span class="p">,</span> <span class="p">:])</span>
<span class="c">#&gt; 50x5 DataFrame</span>
<span class="c">#&gt; |-------|-------------|------------|-------------|------------|----------|</span>
<span class="c">#&gt; | Row # | SepalLength | SepalWidth | PetalLength | PetalWidth | Species  |</span>
<span class="c">#&gt; | 1     | 5.1         | 3.5        | 1.4         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 2     | 4.9         | 3.0        | 1.4         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 3     | 4.7         | 3.2        | 1.3         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 4     | 4.6         | 3.1        | 1.5         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 5     | 5.0         | 3.6        | 1.4         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 6     | 5.4         | 3.9        | 1.7         | 0.4        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 7     | 4.6         | 3.4        | 1.4         | 0.3        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 8     | 5.0         | 3.4        | 1.5         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 9     | 4.4         | 2.9        | 1.4         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; ⋮</span>
<span class="c">#&gt; | 41    | 5.0         | 3.5        | 1.3         | 0.3        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 42    | 4.5         | 2.3        | 1.3         | 0.3        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 43    | 4.4         | 3.2        | 1.3         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 44    | 5.0         | 3.5        | 1.6         | 0.6        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 45    | 5.1         | 3.8        | 1.9         | 0.4        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 46    | 4.8         | 3.0        | 1.4         | 0.3        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 47    | 5.1         | 3.8        | 1.6         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 48    | 4.6         | 3.2        | 1.4         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 49    | 5.3         | 3.7        | 1.5         | 0.2        | &quot;setosa&quot; |</span>
<span class="c">#&gt; | 50    | 5.0         | 3.3        | 1.4         | 0.2        | &quot;setosa&quot; |</span>

<span class="c"># Count the number of rows for each species</span>
<span class="n">showln</span><span class="p">(</span><span class="n">by</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">:</span><span class="n">Species</span><span class="p">,</span> <span class="n">df</span> <span class="o">-&gt;</span> <span class="n">size</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="c">#&gt; 3x2 DataFrame</span>
<span class="c">#&gt; |-------|--------------|----|</span>
<span class="c">#&gt; | Row # | Species      | x1 |</span>
<span class="c">#&gt; | 1     | &quot;setosa&quot;     | 50 |</span>
<span class="c">#&gt; | 2     | &quot;versicolor&quot; | 50 |</span>
<span class="c">#&gt; | 3     | &quot;virginica&quot;  | 50 |</span>

<span class="c"># Discretize entire columns at a time</span>
<span class="n">iris</span><span class="p">[:</span><span class="n">SepalLength</span><span class="p">]</span> <span class="o">=</span> <span class="n">iround</span><span class="p">(</span><span class="n">iris</span><span class="p">[:</span><span class="n">SepalLength</span><span class="p">])</span>
<span class="n">iris</span><span class="p">[:</span><span class="n">SepalWidth</span><span class="p">]</span> <span class="o">=</span> <span class="n">iround</span><span class="p">(</span><span class="n">iris</span><span class="p">[:</span><span class="n">SepalWidth</span><span class="p">])</span>


<span class="c"># Tabulate data according to discretized columns to see &quot;clusters&quot;</span>
<span class="n">tabulated</span> <span class="o">=</span> <span class="n">by</span><span class="p">(</span>
    <span class="n">iris</span><span class="p">,</span>
    <span class="p">[:</span><span class="n">Species</span><span class="p">,</span> <span class="p">:</span><span class="n">SepalLength</span><span class="p">,</span> <span class="p">:</span><span class="n">SepalWidth</span><span class="p">],</span>
    <span class="n">df</span> <span class="o">-&gt;</span> <span class="n">size</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">showln</span><span class="p">(</span><span class="n">tabulated</span><span class="p">)</span>
<span class="c">#&gt; 17x4 DataFrame</span>
<span class="c">#&gt; |-------|--------------|-------------|------------|----|</span>
<span class="c">#&gt; | Row # | Species      | SepalLength | SepalWidth | x1 |</span>
<span class="c">#&gt; | 1     | &quot;setosa&quot;     | 4           | 3          | 4  |</span>
<span class="c">#&gt; | 2     | &quot;setosa&quot;     | 5           | 2          | 1  |</span>
<span class="c">#&gt; | 3     | &quot;setosa&quot;     | 5           | 3          | 23 |</span>
<span class="c">#&gt; | 4     | &quot;setosa&quot;     | 5           | 4          | 17 |</span>
<span class="c">#&gt; | 5     | &quot;setosa&quot;     | 6           | 4          | 5  |</span>
<span class="c">#&gt; | 6     | &quot;versicolor&quot; | 5           | 2          | 3  |</span>
<span class="c">#&gt; | 7     | &quot;versicolor&quot; | 5           | 3          | 3  |</span>
<span class="c">#&gt; | 8     | &quot;versicolor&quot; | 6           | 2          | 6  |</span>
<span class="c">#&gt; | 9     | &quot;versicolor&quot; | 6           | 3          | 29 |</span>
<span class="c">#&gt; | 10    | &quot;versicolor&quot; | 7           | 3          | 9  |</span>
<span class="c">#&gt; | 11    | &quot;virginica&quot;  | 5           | 3          | 1  |</span>
<span class="c">#&gt; | 12    | &quot;virginica&quot;  | 6           | 2          | 1  |</span>
<span class="c">#&gt; | 13    | &quot;virginica&quot;  | 6           | 3          | 22 |</span>
<span class="c">#&gt; | 14    | &quot;virginica&quot;  | 7           | 3          | 19 |</span>
<span class="c">#&gt; | 15    | &quot;virginica&quot;  | 7           | 4          | 1  |</span>
<span class="c">#&gt; | 16    | &quot;virginica&quot;  | 8           | 3          | 4  |</span>
<span class="c">#&gt; | 17    | &quot;virginica&quot;  | 8           | 4          | 2  |</span>

<span class="c"># you can setup a grouped dataframe like this</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">iris</span><span class="p">,[:</span><span class="n">Species</span><span class="p">,</span> <span class="p">:</span><span class="n">SepalLength</span><span class="p">,</span> <span class="p">:</span><span class="n">SepalWidth</span><span class="p">])</span>

<span class="c"># and then iterate over it</span>
<span class="k">for</span> <span class="n">idf</span> <span class="k">in</span> <span class="n">gdf</span>
    <span class="n">println</span><span class="p">(</span><span class="n">size</span><span class="p">(</span><span class="n">idf</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">end</span>

<span class="c"># Adding/Removing columns</span>
<span class="c"># -----------------------</span>

<span class="c"># insert!(df::DataFrame,index::Int64,item::AbstractArray{T,1},name::Symbol)</span>
<span class="c"># insert random numbers at col 5:</span>
<span class="n">insert</span><span class="o">!</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">rand</span><span class="p">(</span><span class="n">nrow</span><span class="p">(</span><span class="n">iris</span><span class="p">)),</span> <span class="p">:</span><span class="n">randCol</span><span class="p">)</span>

<span class="c"># remove it</span>
<span class="n">delete</span><span class="o">!</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">:</span><span class="n">randCol</span><span class="p">)</span>

<span class="c"># Same for rows</span>
<span class="c"># push!(df::DataFrame,iterable)</span>
<span class="c"># push an iterable as last row onto a dataframe:</span>
<span class="n">push</span><span class="o">!</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mf">2.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">100.1</span><span class="p">,</span> <span class="s">&quot;alienSpecies&quot;</span><span class="p">])</span>

<span class="c"># show last few rows</span>
<span class="n">tail</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>

<span class="c"># delete row with &quot;alienSpecies&quot;</span>
<span class="n">deleterows</span><span class="o">!</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="n">findin</span><span class="p">(</span><span class="n">iris</span><span class="p">[:</span><span class="n">Species</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;alienSpecies&quot;</span><span class="p">]))</span>
<span class="n">tail</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>


<span class="c"># Using DataFramesMeta.jl</span>
<span class="c"># -----------------------</span>

<span class="k">using</span> <span class="n">DataFramesMeta</span>

<span class="c"># subset with DataFramesMeta</span>
<span class="c"># @ix gets rows/colums</span>
<span class="p">@</span><span class="n">ix</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">:</span><span class="n">SepalWidth</span> <span class="o">.&gt;</span> <span class="mf">4.0</span><span class="p">,</span> <span class="p">[:</span><span class="n">SepalWidth</span><span class="p">,</span> <span class="p">:</span><span class="n">Species</span><span class="p">])</span>

<span class="c"># @where gets rows</span>
 <span class="p">@</span><span class="n">where</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">(:</span><span class="n">PetalWidth</span> <span class="o">.&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(:</span><span class="n">SepalWidth</span> <span class="o">.&lt;</span> <span class="mf">3.0</span><span class="p">))</span>

<span class="c"># create a new column with SepalWidth in 5 categories</span>
<span class="c"># very similar to R cut() and R transform()</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span> <span class="n">iris</span><span class="p">,</span> <span class="n">widthBin</span> <span class="o">=</span> <span class="n">cut</span><span class="p">(</span><span class="n">iris</span><span class="p">[:</span><span class="n">SepalWidth</span><span class="p">],</span><span class="mi">5</span><span class="p">))</span>

<span class="c"># DataFramesMeta also has a convenient macro syntax,</span>
<span class="c"># no need to re-specify the dataframe in the epxression!</span>
<span class="n">iris</span> <span class="o">=</span> <span class="p">@</span><span class="n">transform</span><span class="p">(</span> <span class="n">iris</span><span class="p">,</span> <span class="n">widthBin</span> <span class="o">=</span> <span class="n">cut</span><span class="p">(:</span><span class="n">SepalWidth</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

        </div>
        <div class="col-sm-3 hidden-xs">
          <div class="sidebar" data-spy="affix" data-offset-top="150">
            <ul class="nav sidenav">
              
                <li> <a href="#Hello-World">Hello World</a> </li>
              
                <li> <a href="#函数">函数</a> </li>
              
                <li> <a href="#字符串">字符串</a> </li>
              
                <li> <a href="#字符串：转换和格式化">字符串：转换和格式化</a> </li>
              
                <li> <a href="#字符串处理">字符串处理</a> </li>
              
                <li> <a href="#数组">数组</a> </li>
              
                <li> <a href="#错误处理">错误处理</a> </li>
              
                <li> <a href="#多维数组">多维数组</a> </li>
              
                <li> <a href="#字典">字典</a> </li>
              
                <li> <a href="#循环和映射">循环和映射</a> </li>
              
                <li> <a href="#类型(Types)">类型(Types)</a> </li>
              
                <li> <a href="#输入输出">输入输出</a> </li>
              
                <li> <a href="#包和文件引用">包和文件引用</a> </li>
              
                <li> <a href="#画图">画图</a> </li>
              
                <li> <a href="#TextPlots（文字图解包）">TextPlots（文字图解包）</a> </li>
              
                <li> <a href="#PyPlot">PyPlot</a> </li>
              
                <li> <a href="#Winston">Winston</a> </li>
              
                <li> <a href="#Gadfly">Gadfly</a> </li>
              
                <li> <a href="#数据框（DataFrames）">数据框（DataFrames）</a> </li>
              
            </ul>
          </div>
        </div>
        </div>
      </div>
      
      <script src="static/external/js/jquery-1.11.0.min.js"></script>
      <script src="static/external/js/bootstrap.min.js"></script>
      <script type="text/javascript">
      $(function () {
          $('a').tooltip();
      });
    </script>
  </body>
</html>